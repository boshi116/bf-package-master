diff --git a/package/openwrt/files/etc/init.d/smartdns b/package/openwrt/files/etc/init.d/smartdns
index 9bfb3bf..9e8b21e 100644
--- a/package/openwrt/files/etc/init.d/smartdns
+++ b/package/openwrt/files/etc/init.d/smartdns
@@ -21,6 +21,7 @@ USE_PROCD=1
 SERVICE_USE_PID=1
 SERVICE_WRITE_PID=1
 SERVICE_DAEMONIZE=1
+SMARTDNS_CRON_FILE="/etc/crontabs/root"
 SERVICE_PID_FILE="/var/run/smartdns.pid"
 SMARTDNS_CONF_DIR="/etc/smartdns"
 SMARTDNS_VAR_CONF_DIR="/var/etc/smartdns"
@@ -108,6 +109,11 @@ stop_main_dns()
 {
 	uci -q delete dhcp.@dnsmasq[0].port
 	uci -q delete dhcp.lan.dhcp_option
+
+	# for some third-party firmware
+	redir_dns="$(uci -q get dhcp.@dnsmasq[0].dns_redirect)"
+	[ "$redir_dns" = "0" ] && uci -q set dhcp.@dnsmasq[0].dns_redirect=1
+
 	uci commit dhcp
 	/etc/init.d/dnsmasq restart
 }
@@ -391,6 +397,11 @@ load_service()
 	uci -q set smartdns.@smartdns[0].old_port="$SMARTDNS_PORT"
 	uci commit smartdns
 
+	config_get gfw_smartdns "$section" "gfw_smartdns" "0"
+	sed -i '/smartdns\/update-china-list/d' $SMARTDNS_CRON_FILE
+	[ "$gfw_smartdns" = "1" -a "$enabled" -gt 0 ] && echo "0 5 * * * sh /usr/share/smartdns/update-china-list.sh" >> $SMARTDNS_CRON_FILE
+	crontab $SMARTDNS_CRON_FILE
+
 	[ "$enabled" -gt 0 ] || return 1
 
 	[ "$auto_set_dnsmasq" = "1" ] && auto_set_dnsmasq "$SMARTDNS_PORT" "$old_port"
